function now(){return(new Date).getTime()}function getTid(a){var d=a?a:"tid";var b=location.href;var c=new RegExp("(^|&|\\?)"+d+"=(\\d*)(&|$)|read-html-(\\d*)\\.html|read\\.php\\?tid-(\\d*)\\.html","i");if(c.test(b)){return RegExp.$2||RegExp.$4||RegExp.$5}return""}function getFid(){var a=location.href;var b=new RegExp("(^|&|\\?)fid=(\\d*)(&|$)|thread-htm-fid-(\\d*)\\.html|thread\\.php\\?fid-(\\d*)\\.html","i");if(b.test(a)){return RegExp.$2||RegExp.$4||RegExp.$5}return""}function getId(c){var a=location;var b=new RegExp("(^|&|\\?)"+c+"=(\\d*)(&|$)","i");if(b.test(a)){return RegExp.$1}return""}var _toString=Object.prototype.toString;function isFunction(a){return _toString.call(a)==="[object Function]"}function isArray(a){return _toString.call(a)==="[object Array]"}function isObject(a){return a&&_toString.call(a)==="[object Object]"}function trim(a){return(a||"").replace(/^\s+|\s+$/g,"")}function checkUpdate(a,d){var c=false;if(isObject(d)){a=a||{};for(var b in d){var e=d[b];if(a[b]!=e){c=c||{};c[b]=e}}}return c}function makeArray(c){var a=[];if(c!=null){var b=c.length;if(b==null||typeof c==="string"||isFunction(c)||c.setInterval){a[0]=c}else{while(b){a[--b]=c[b]}}}return a}function extend(){var f=arguments[0]||{},d=1,e=arguments.length,a=false,c;if(typeof f==="boolean"){a=f;f=arguments[1]||{};d=2}if(typeof f!=="object"&&!isFunction(f)){f={}}for(;d<e;d++){if((c=arguments[d])!=null){for(var b in c){var g=f[b],h=c[b];if(f===h){continue}if(a&&h&&typeof h==="object"&&!h.nodeType){f[b]=extend(a,g||(h.length!=null?[]:{}),h)}else{if(h!==undefined){f[b]=h}}}}}return f}function each(d,h,c){var b,e=0,f=d.length,a=f===undefined||isFunction(d);if(c){if(a){for(b in d){if(h.apply(d[b],c)===false){break}}}else{for(;e<f;){if(h.apply(d[e++],c)===false){break}}}}else{if(a){for(b in d){if(h.call(d[b],b,d[b])===false){break}}}else{for(var g=d[0];e<f&&h.call(g,e,g)!==false;g=d[++e]){}}}return d}function inArray(c,d){for(var a=0,b=d.length;a<b;a++){if(d[a]===c){return a}}return -1}function grep(b,f,a){var c=[];for(var d=0,e=b.length;d<e;d++){if(a==undefined){if(f(b[d],d)){c.push(b[d])}}else{if(!a!==!f(b[d],d)){c.push(b[d])}}}return c}function map(a,f){var b=[],e;for(var c=0,d=a.length;c<d;c++){e=f(a[c],c);if(e!=null){b[b.length]=e}}return b.concat.apply([],b)}function param(b){var d=[];if(typeof b=="object"){for(var c in b){d[d.length]=encodeURIComponent(c)+"="+encodeURIComponent(b[c])}return d.join("&").replace(r20,"+")}return b}var jsc=now(),rquery=/\?/,rts=/(\?|&)_=.*?(&|$)/,r20=/%20/g,ajaxSettings={url:location.href,global:true,type:"GET",contentType:"application/x-www-form-urlencoded",processData:true,async:true,xhr:function(){return window.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest()},accepts:{xml:"application/xml, text/xml",html:"text/html",script:"text/javascript, application/javascript",json:"application/json, text/javascript",text:"text/plain",_default:"*/*"}},lastModified={},etag={};function handleError(b,d,a,c){if(b.error){b.error.call(b.context||window,d,a,c)}}function httpSuccess(b){try{return !b.status&&location.protocol==="file:"||(b.status>=200&&b.status<300)||b.status===304||b.status===1223||b.status===0}catch(a){}return false}function httpNotModified(d,b){var c=d.getResponseHeader("Last-Modified"),a=d.getResponseHeader("Etag");if(c){lastModified[b]=c}if(a){etag[b]=a}return d.status===304||d.status===0}function httpData(f,d,c){var b=f.getResponseHeader("content-type"),a=d==="xml"||!d&&b&&b.indexOf("xml")>=0,e=a?f.responseXML:f.responseText;if(a&&e.documentElement.nodeName==="parsererror"){throw"parsererror"}if(c&&c.dataFilter){e=c.dataFilter(e,d)}if(typeof e==="string"){if(d==="json"){if(typeof JSON==="object"&&JSON.parse){e=JSON.parse(e)}else{e=(new Function("return "+e))()}}}return e}function ajaxSetup(a){extend(ajaxSettings,a)}function ajax(o){o=extend(true,o,extend(true,{},ajaxSettings,o));var d,f,c=o.context||window,j=o.type.toUpperCase();if(o.data&&o.processData&&typeof o.data!=="string"){o.data=param(o.data)}if(o.cache===false&&j==="GET"){var i=now();var h=o.url.replace(rts,"$1_="+i+"$2");o.url=h+((h===o.url)?(rquery.test(o.url)?"&":"?")+"_="+i:"")}if(o.data&&j==="GET"){o.url+=(rquery.test(o.url)?"&":"?")+o.data}var b=false;var n=o.xhr();if(o.username){n.open(j,o.url,o.async,o.username,o.password)}else{n.open(j,o.url,o.async)}try{if(o.data){n.setRequestHeader("Content-Type",o.contentType)}if(o.ifModified){if(lastModified[o.url]){n.setRequestHeader("If-Modified-Since",lastModified[o.url])}if(etag[o.url]){n.setRequestHeader("If-None-Match",etag[o.url])}}n.setRequestHeader("X-Requested-With","XMLHttpRequest");n.setRequestHeader("Accept",o.dataType&&o.accepts[o.dataType]?o.accepts[o.dataType]+", */*":o.accepts._default)}catch(g){}if(o.beforeSend&&o.beforeSend.call(c,n,o)===false){n.abort();return false}var l=function(p){if(!n||n.readyState===0){if(k){clearInterval(k);k=null}}else{if(!b&&n&&(n.readyState===4||p==="timeout")){b=true;if(k){clearInterval(k);k=null}d=p==="timeout"?"timeout":!httpSuccess(n)?"error":o.ifModified&&httpNotModified(n,o.url)?"notmodified":"success";if(d==="success"){try{f=httpData(n,o.dataType,o)}catch(q){d="parsererror"}}if(d==="success"||d==="notmodified"){m()}else{handleError(o,n,d)}a();if(p){n.abort()}if(o.async){n=null}}}};if(o.async){var k=setInterval(l,13);if(o.timeout>0){setTimeout(function(){if(n&&!b){l("timeout")}},o.timeout)}}try{n.send(j==="POST"||j==="PUT"?o.data:null)}catch(g){handleError(o,n,null,g)}if(!o.async){l()}function m(){if(o.success){o.success.call(c,f,d)}}function a(){if(o.complete){o.complete.call(c,n,d)}}return n}function emptyFunction(){}function jsonp(i){i=extend({},i);var c=""+param(i.data),a=i.context||window,g="jsonp"+jsc++,e=document.getElementsByTagName("head")[0]||document.documentElement,f=document.createElement("script");c=(c?(c+"&"):"")+(i.jsonp||"callback")+"="+g;i.url+=(rquery.test(i.url)?"&":"?")+c;f.src=i.url;if(i.scriptCharset){f.charset=i.scriptCharset}else{f.charset="UTF-8"}var b=false;window[g]=function(j){i.success&&i.success.call(a,j,"success");h()};f.onload=f.onreadystatechange=function(){if(!b&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){d("error");h()}};if(i.timeout>0){setTimeout(function(){if(!b){d("timeout");h();window[g]=emptyFunction}},i.timeout)}e.insertBefore(f,e.firstChild);return undefined;function h(){b=true;window[g]=undefined;try{delete window[g]}catch(j){}f.onload=f.onreadystatechange=null;if(e&&f.parentNode){e.removeChild(f)}}function d(j){i.error&&i.error.call(a,j)}};